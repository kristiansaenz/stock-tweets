{"ast":null,"code":"import _regeneratorRuntime from\"/Users/kristian/Desktop/codebase/stock-tweets/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/kristian/Desktop/codebase/stock-tweets/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _toConsumableArray from\"/Users/kristian/Desktop/codebase/stock-tweets/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/kristian/Desktop/codebase/stock-tweets/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/kristian/Desktop/codebase/stock-tweets/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/kristian/Desktop/codebase/stock-tweets/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/kristian/Desktop/codebase/stock-tweets/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/kristian/Desktop/codebase/stock-tweets/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import SearchBar from'../components/SearchBar';import TweetBoard from'../components/TweetBoard';import TagList from'../components/TagList';import axios from'axios';import uuid from'uuid';import Footer from'../components/Footer';var Home=/*#__PURE__*/function(_React$Component){_inherits(Home,_React$Component);function Home(){var _getPrototypeOf2;var _this;_classCallCheck(this,Home);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Home)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={stock:'MSFT',tags:[{id:1,name:\"MSFT\",clicked:false},{id:2,name:\"BABA\",clicked:false}],tweets:[]};_this.onSubmit=function(e){e.preventDefault();_this.addTag(_this.state.stock);_this.setState({stock:''});};_this.onChange=function(e){return _this.setState({stock:e.target.value});};_this.deleteTag=function(id,name){_this.setState({tags:_toConsumableArray(_this.state.tags.filter(function(tag){return tag.id!==id;}))});_this.getTweets();};_this.filterTag=function(id){// this.getTweetOnClick(id);\n_this.getBackend();};return _this;}_createClass(Home,[{key:\"render\",value:function render(){return React.createElement(\"div\",null,React.createElement(\"section\",{class:\"hero is-info\"},React.createElement(\"div\",{class:\"hero-body\"},React.createElement(\"div\",{class:\"container\"},React.createElement(\"h1\",{class:\"title\"},\"Stock Tweets\"),React.createElement(\"h2\",{class:\"subtitle\"},\"See the latest tweets on your favorite stocks!\"),React.createElement(\"br\",null),React.createElement(\"nav\",{class:\"level\"},React.createElement(\"div\",{class:\"level-left\"},React.createElement(\"div\",{class:\"level-item\"},React.createElement(SearchBar,{onSubmit:this.onSubmit,onChange:this.onChange}))),React.createElement(\"div\",{class:\"level-right\"},React.createElement(\"div\",{class:\"level-item\"},React.createElement(\"div\",{class:\"tags\"},React.createElement(TagList,{tags:this.state.tags,deleteTag:this.deleteTag,filterTag:this.filterTag})))))))),React.createElement(\"div\",{class:\"section\"},React.createElement(\"div\",{class:\"container\"},React.createElement(\"div\",{class:\"tile is-ancestor\"},React.createElement(\"div\",{class:\"tile is-vertical\"},React.createElement(\"div\",{class:\"tile\"},React.createElement(TweetBoard,{tweets:this.state.tweets})))))),React.createElement(Footer,null));}},{key:\"addTag\",value:function addTag(stock){var newTag={id:uuid.v4(),name:stock,clicked:false};this.setState({tags:_toConsumableArray(this.state.tags.concat(newTag))});this.getTweets();}},{key:\"getTweets\",// always renders last stock in taglist\nvalue:function(){var _getTweets=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,tweets;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"tags: \"+this.state.tags.toString());console.log(\"last tag: \"+this.state.tags[this.state.tags.length-1].name);_context.prev=2;_context.next=5;return axios.get(\"http://localhost:8080/\",//   { params: {id: this.state.stock}}\n{params:{id:this.state.tags[this.state.tags.length-1].name}});case 5:response=_context.sent;tweets=response.data.messages;this.setState({tweets:tweets});_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](2);console.log(_context.t0);case 13:case\"end\":return _context.stop();}}},_callee,this,[[2,10]]);}));function getTweets(){return _getTweets.apply(this,arguments);}return getTweets;}()},{key:\"getBackend\",value:function(){var _getBackend=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.get(\"/hi\");case 3:response=_context2.sent;console.log(\"here\");_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));function getBackend(){return _getBackend.apply(this,arguments);}return getBackend;}()// always renders stock that is clicked\n},{key:\"getTweetOnClick\",value:function(){var _getTweetOnClick=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){var clicked,response,tweets;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:clicked=this.state.tags.find(function(x){return x.id===id;}).name;_context3.prev=1;_context3.next=4;return axios.get('/',{params:{id:clicked}});case 4:response=_context3.sent;tweets=response.data.messages;this.setState({tweets:tweets});_context3.next=12;break;case 9:_context3.prev=9;_context3.t0=_context3[\"catch\"](1);console.log(_context3.t0);case 12:case\"end\":return _context3.stop();}}},_callee3,this,[[1,9]]);}));function getTweetOnClick(_x){return _getTweetOnClick.apply(this,arguments);}return getTweetOnClick;}()// show all the tags that don't equal the one you deleted\n// when you delete tag, tweets based on that stock will disappear\n},{key:\"componentDidMount\",value:function componentDidMount(){this.getTweets();}}]);return Home;}(React.Component);export default Home;","map":{"version":3,"sources":["/Users/kristian/Desktop/codebase/stock-tweets/client/src/pages/Home.js"],"names":["React","SearchBar","TweetBoard","TagList","axios","uuid","Footer","Home","state","stock","tags","id","name","clicked","tweets","onSubmit","e","preventDefault","addTag","setState","onChange","target","value","deleteTag","filter","tag","getTweets","filterTag","getBackend","newTag","v4","concat","console","log","toString","length","get","params","response","data","messages","find","x","Component"],"mappings":"22CAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,MAAOC,CAAAA,OAAP,KAAoB,uBAApB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,MAAjB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,C,GAGMC,CAAAA,I,mYACFC,K,CAAQ,CACJC,KAAK,CAAE,MADH,CAEJC,IAAI,CAAE,CACF,CAACC,EAAE,CAAE,CAAL,CAAQC,IAAI,CAAE,MAAd,CAAsBC,OAAO,CAAE,KAA/B,CADE,CAEF,CAACF,EAAE,CAAE,CAAL,CAAQC,IAAI,CAAE,MAAd,CAAsBC,OAAO,CAAE,KAA/B,CAFE,CAFF,CAMJC,MAAM,CAAE,EANJ,C,OAqERC,Q,CAAW,SAACC,CAAD,CAAO,CACdA,CAAC,CAACC,cAAF,GACA,MAAKC,MAAL,CAAY,MAAKV,KAAL,CAAWC,KAAvB,EACA,MAAKU,QAAL,CAAc,CAAEV,KAAK,CAAE,EAAT,CAAd,EACH,C,OAEDW,Q,CAAW,SAACJ,CAAD,QAAO,OAAKG,QAAL,CAAc,CAC5BV,KAAK,CAAEO,CAAC,CAACK,MAAF,CAASC,KADY,CAAd,CAAP,E,OAqDXC,S,CAAY,SAACZ,EAAD,CAAKC,IAAL,CAAc,CACtB,MAAKO,QAAL,CAAc,CAAET,IAAI,oBAAM,MAAKF,KAAL,CAAWE,IAAX,CAAgBc,MAAhB,CAAuB,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACd,EAAJ,GAAWA,EAAf,EAA1B,CAAN,CAAN,CAAd,EACA,MAAKe,SAAL,GACH,C,OAIDC,S,CAAY,SAAChB,EAAD,CAAQ,CAChB;AACA,MAAKiB,UAAL,GACH,C,uEAjIQ,CACL,MACI,gCACA,+BAAS,KAAK,CAAC,cAAf,EACA,2BAAK,KAAK,CAAC,WAAX,EACI,2BAAK,KAAK,CAAC,WAAX,EAEI,0BAAI,KAAK,CAAC,OAAV,iBAFJ,CAGI,0BAAI,KAAK,CAAC,UAAV,mDAHJ,CAII,8BAJJ,CAMI,2BAAK,KAAK,CAAC,OAAX,EAGI,2BAAK,KAAK,CAAC,YAAX,EACI,2BAAK,KAAK,CAAC,YAAX,EACI,oBAAC,SAAD,EAAW,QAAQ,CAAE,KAAKb,QAA1B,CAAoC,QAAQ,CAAE,KAAKK,QAAnD,EADJ,CADJ,CAHJ,CAUI,2BAAK,KAAK,CAAC,aAAX,EACI,2BAAK,KAAK,CAAC,YAAX,EACI,2BAAK,KAAK,CAAC,MAAX,EACA,oBAAC,OAAD,EAAS,IAAI,CAAE,KAAKZ,KAAL,CAAWE,IAA1B,CAAgC,SAAS,CAAE,KAAKa,SAAhD,CAA2D,SAAS,CAAE,KAAKI,SAA3E,EADA,CADJ,CADJ,CAVJ,CANJ,CADJ,CADA,CADA,CAiCA,2BAAK,KAAK,CAAC,SAAX,EACI,2BAAK,KAAK,CAAC,WAAX,EACA,2BAAK,KAAK,CAAC,kBAAX,EACI,2BAAK,KAAK,CAAC,kBAAX,EACI,2BAAK,KAAK,CAAC,MAAX,EACI,oBAAC,UAAD,EAAY,MAAM,CAAE,KAAKnB,KAAL,CAAWM,MAA/B,EADJ,CADJ,CADJ,CADA,CADJ,CAjCA,CA4CA,oBAAC,MAAD,MA5CA,CADJ,CA+CN,C,sCAESL,K,CAAO,CACV,GAAMoB,CAAAA,MAAM,CAAG,CACXlB,EAAE,CAAEN,IAAI,CAACyB,EAAL,EADO,CAEXlB,IAAI,CAAEH,KAFK,CAGXI,OAAO,CAAE,KAHE,CAAf,CAKA,KAAKM,QAAL,CAAc,CAAET,IAAI,oBAAM,KAAKF,KAAL,CAAWE,IAAX,CAAgBqB,MAAhB,CAAuBF,MAAvB,CAAN,CAAN,CAAd,EACA,KAAKH,SAAL,GACH,C,mBAYD;+OAEIM,OAAO,CAACC,GAAR,CAAY,SAAW,KAAKzB,KAAL,CAAWE,IAAX,CAAgBwB,QAAhB,EAAvB,EACAF,OAAO,CAACC,GAAR,CAAY,aAAe,KAAKzB,KAAL,CAAWE,IAAX,CAAgB,KAAKF,KAAL,CAAWE,IAAX,CAAgByB,MAAhB,CAAyB,CAAzC,EAA4CvB,IAAvE,E,sCAGUR,CAAAA,KAAK,CAACgC,GAAN,CAAU,wBAAV,CACF;AACA,CAACC,MAAM,CAAE,CAAC1B,EAAE,CAAE,KAAKH,KAAL,CAAWE,IAAX,CAAgB,KAAKF,KAAL,CAAWE,IAAX,CAAgByB,MAAhB,CAAuB,CAAvC,EAA0CvB,IAA/C,CAAT,CAFE,C,QADA0B,Q,eAKFxB,M,CAASwB,QAAQ,CAACC,IAAT,CAAcC,Q,CAC3B,KAAKrB,QAAL,CAAc,CAAEL,MAAM,CAAEA,MAAV,CAAd,E,iFAGAkB,OAAO,CAACC,GAAR,c,ocAMuB7B,CAAAA,KAAK,CAACgC,GAAN,CAAU,KAAV,C,QAAjBE,Q,gBACNN,OAAO,CAACC,GAAR,CAAY,MAAZ,E,mFAIAD,OAAO,CAACC,GAAR,e,8JAIR;yIACsBtB,E,kJACdE,O,CAAU,KAAKL,KAAL,CAAWE,IAAX,CAAgB+B,IAAhB,CAAqB,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAAC/B,EAAF,GAASA,EAAb,EAAtB,EAAuCC,I,yCAG3CR,CAAAA,KAAK,CAACgC,GAAN,CAAU,GAAV,CACF,CAAEC,MAAM,CAAE,CAAC1B,EAAE,CAAEE,OAAL,CAAV,CADE,C,QADAyB,Q,gBAKFxB,M,CAASwB,QAAQ,CAACC,IAAT,CAAcC,Q,CAC3B,KAAKrB,QAAL,CAAc,CAAEL,MAAM,CAAEA,MAAV,CAAd,E,mFAGAkB,OAAO,CAACC,GAAR,e,+KAKR;AACA;6DAaoB,CAChB,KAAKP,SAAL,GACH,C,kBA/Ic1B,KAAK,CAAC2C,S,EAkJzB,cAAepC,CAAAA,IAAf","sourcesContent":["import React from 'react';\nimport SearchBar from '../components/SearchBar'\nimport TweetBoard from '../components/TweetBoard';\nimport TagList from '../components/TagList';\nimport axios from 'axios';\nimport uuid from 'uuid';\nimport Footer from '../components/Footer';\n\n\nclass Home extends React.Component {\n    state = {\n        stock: 'MSFT',\n        tags: [\n            {id: 1, name: \"MSFT\", clicked: false},\n            {id: 2, name: \"BABA\", clicked: false}\n        ],\n        tweets: []\n    }\n\n    render() {   \n        return(\n            <div>\n            <section class=\"hero is-info\">\n            <div class=\"hero-body\">\n                <div class=\"container\">\n                    {/* header */}\n                    <h1 class=\"title\">Stock Tweets</h1>\n                    <h2 class=\"subtitle\">See the latest tweets on your favorite stocks!</h2>\n                    <br/>\n\n                    <nav class=\"level\">\n\n                        {/* search field */}\n                        <div class=\"level-left\">\n                            <div class=\"level-item\">\n                                <SearchBar onSubmit={this.onSubmit} onChange={this.onChange} />\n                            </div>\n                        </div>\n                        \n                        {/* taglist */}\n                        <div class=\"level-right\">\n                            <div class=\"level-item\">\n                                <div class=\"tags\">\n                                <TagList tags={this.state.tags} deleteTag={this.deleteTag} filterTag={this.filterTag} />\n                                </div>\n                            </div>\n                        </div>\n\n                    </nav>\n                </div>\n            </div>\n            </section>\n\n            {/* tweets section */}\n            <div class=\"section\">\n                <div class=\"container\">\n                <div class=\"tile is-ancestor\">\n                    <div class=\"tile is-vertical\">\n                        <div class=\"tile\">\n                            <TweetBoard tweets={this.state.tweets} />\n                        </div>\n                    </div>\n                </div>                \n                </div>\n            </div>\n            <Footer />\n            </div>\n)}\n\n    addTag(stock) {\n        const newTag = {\n            id: uuid.v4(),\n            name: stock,\n            clicked: false\n        }\n        this.setState({ tags: [...this.state.tags.concat(newTag)]});\n        this.getTweets();\n    }\n\n    onSubmit = (e) => {\n        e.preventDefault();\n        this.addTag(this.state.stock);\n        this.setState({ stock: '' });\n    }\n\n    onChange = (e) => this.setState({\n        stock: e.target.value\n    })\n\n    // always renders last stock in taglist\n    async getTweets(){\n        console.log(\"tags: \" + this.state.tags.toString());\n        console.log(\"last tag: \" + this.state.tags[this.state.tags.length - 1].name);\n        try {\n            const response =\n            await axios.get(\"http://localhost:8080/\",\n                //   { params: {id: this.state.stock}}\n                {params: {id: this.state.tags[this.state.tags.length-1].name}}\n            )\n            var tweets = response.data.messages;\n            this.setState({ tweets: tweets });\n        }\n        catch (e) {\n            console.log(e);\n        }\n    }\n\n    async getBackend(){\n        try {\n            const response = await axios.get(\"/hi\",);\n            console.log(\"here\");\n\n        }\n        catch (e) {\n            console.log(e);\n        }\n    }\n\n    // always renders stock that is clicked\n    async getTweetOnClick(id){\n        var clicked = this.state.tags.find(x => x.id === id).name;\n        try {\n            const response =\n            await axios.get('/',\n                { params: {id: clicked}}\n\n            )\n            var tweets = response.data.messages;\n            this.setState({ tweets: tweets });\n        }\n        catch (e) {\n            console.log(e);\n        }\n    }\n\n\n    // show all the tags that don't equal the one you deleted\n    // when you delete tag, tweets based on that stock will disappear\n    deleteTag = (id, name) => {\n        this.setState({ tags: [...this.state.tags.filter(tag => tag.id !== id)] });\n        this.getTweets();\n    }\n\n    // when you click a tag, it will change dark grey & filter tweets \n    // based on stock names clicked, clicked will be turned to true\n    filterTag = (id) => {\n        // this.getTweetOnClick(id);\n        this.getBackend();\n    }\n\n    componentDidMount() {\n        this.getTweets();\n    }\n\n}\nexport default Home;"]},"metadata":{},"sourceType":"module"}