{"ast":null,"code":"import _toConsumableArray from\"/Users/kristian/Desktop/codebase/stock-tweets/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/kristian/Desktop/codebase/stock-tweets/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/kristian/Desktop/codebase/stock-tweets/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/kristian/Desktop/codebase/stock-tweets/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/kristian/Desktop/codebase/stock-tweets/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/kristian/Desktop/codebase/stock-tweets/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import SearchBar from'../components/SearchBar';import TweetBoard from'../components/TweetBoard';import TagList from'../components/TagList';import axios from'axios';import uuid from'uuid';var Home=/*#__PURE__*/function(_React$Component){_inherits(Home,_React$Component);function Home(){var _getPrototypeOf2;var _this;_classCallCheck(this,Home);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Home)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={stock:'MSFT',tags:[{id:1,name:\"APPL\"}],tweets:[]};_this.onSubmit=function(e){e.preventDefault();_this.addTag(_this.state.stock);_this.setState({stock:''});};_this.onChange=function(e){return _this.setState({stock:e.target.value});};_this.deleteTag=function(id,name){_this.setState({tags:_toConsumableArray(_this.state.tags.filter(function(tag){return tag.id!==id;}))});// alert('i removed ' + this.name + 'from board');\n};_this.filterTag=function(id){// alert('i clicked it')\n};return _this;}_createClass(Home,[{key:\"render\",value:function render(){return React.createElement(\"div\",null,React.createElement(\"section\",{class:\"hero is-info\"},React.createElement(\"div\",{class:\"hero-body\"},React.createElement(\"div\",{class:\"container\"},React.createElement(\"h1\",{class:\"title\"},\"Stock Tweets\"),React.createElement(\"h2\",{class:\"subtitle\"},\"See the latest tweets on your favorite stocks!\"),React.createElement(\"br\",null),React.createElement(\"nav\",{class:\"level\"},React.createElement(\"div\",{class:\"level-left\"},React.createElement(\"div\",{class:\"level-item\"},React.createElement(SearchBar,{onSubmit:this.onSubmit,onChange:this.onChange}))),React.createElement(\"div\",{class:\"level-right\"},React.createElement(\"div\",{class:\"level-item\"},React.createElement(\"div\",{class:\"tags\"},React.createElement(TagList,{tags:this.state.tags,deleteTag:this.deleteTag,filterTag:this.filterTag})))))))),React.createElement(\"div\",{class:\"section\"},React.createElement(\"div\",{class:\"container\"},React.createElement(\"div\",{class:\"tile is-ancestor\"},React.createElement(\"div\",{class:\"tile is-vertical\"},React.createElement(\"div\",{class:\"tile\"},React.createElement(TweetBoard,{tweets:this.state.tweets})))))));}},{key:\"addTag\",value:function addTag(stock){var newTag={id:uuid.v4(),name:stock};this.setState({tags:_toConsumableArray(this.state.tags.concat(newTag))});}},{key:\"fetchStockTweets\",value:function fetchStockTweets(url){var Httpreq=new XMLHttpRequest();//might need set this to true\nHttpreq.open('GET',url,false);Httpreq.send(null);var data=JSON.parse(Httpreq.responseText);var messages=data.messages;console.log(data);this.setState({tweets:messages});}},{key:\"componentDidMount\",value:function componentDidMount(){console.log(this.state.tags[0].name);var url=\"https://api.stocktwits.com/api/2/streams/symbol/\"+this.state.stock+\".json?limit=30\";this.fetchStockTweets(url);}}]);return Home;}(React.Component);export default Home;","map":{"version":3,"sources":["/Users/kristian/Desktop/codebase/stock-tweets/client/src/pages/Home.js"],"names":["React","SearchBar","TweetBoard","TagList","axios","uuid","Home","state","stock","tags","id","name","tweets","onSubmit","e","preventDefault","addTag","setState","onChange","target","value","deleteTag","filter","tag","filterTag","newTag","v4","concat","url","Httpreq","XMLHttpRequest","open","send","data","JSON","parse","responseText","messages","console","log","fetchStockTweets","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport SearchBar from '../components/SearchBar'\nimport TweetBoard from '../components/TweetBoard';\nimport TagList from '../components/TagList';\nimport axios from 'axios';\nimport uuid from 'uuid';\n\n\nclass Home extends React.Component {\n    state = {\n        stock: 'MSFT',\n        tags: [\n            {id: 1, name: \"APPL\"}\n        ],\n        tweets: []\n    }\n\n    render() {   \n        return(\n            <div>\n            <section class=\"hero is-info\">\n            <div class=\"hero-body\">\n                <div class=\"container\">\n                    {/* header */}\n                    <h1 class=\"title\">Stock Tweets</h1>\n                    <h2 class=\"subtitle\">See the latest tweets on your favorite stocks!</h2>\n                    <br/>\n\n                    <nav class=\"level\">\n\n                        {/* search field */}\n                        <div class=\"level-left\">\n                            <div class=\"level-item\">\n                                <SearchBar onSubmit={this.onSubmit} onChange={this.onChange} />\n                            </div>\n                        </div>\n                        \n                        {/* taglist */}\n                        <div class=\"level-right\">\n                            <div class=\"level-item\">\n                                <div class=\"tags\">\n                                <TagList tags={this.state.tags} deleteTag={this.deleteTag} filterTag={this.filterTag} />\n                                </div>\n                            </div>\n                        </div>\n\n                    </nav>\n                </div>\n            </div>\n            </section>\n\n            {/* tweets section */}\n            <div class=\"section\">\n                <div class=\"container\">\n                <div class=\"tile is-ancestor\">\n                    <div class=\"tile is-vertical\">\n                        <div class=\"tile\">\n                            <TweetBoard tweets={this.state.tweets} />\n                        </div>\n                    </div>\n                </div>                \n                </div>\n            </div>\n            </div>\n)}\n\n    addTag(stock) {\n        const newTag = {\n            id: uuid.v4(),\n            name: stock\n        }\n        this.setState({ tags: [...this.state.tags.concat(newTag)]});\n    }\n\n    onSubmit = (e) => {\n        e.preventDefault();\n        this.addTag(this.state.stock);\n        this.setState({ stock: '' });\n    }\n\n    onChange = (e) => this.setState({\n        stock: e.target.value\n    })\n\n    // show all the tags that don't equal the one you deleted\n    deleteTag = (id, name) => {\n        this.setState({ tags: [...this.state.tags.filter(tag => tag.id !== id)] });\n        // alert('i removed ' + this.name + 'from board');\n    }\n\n    filterTag = (id) => {\n        // alert('i clicked it')\n    }\n\n    fetchStockTweets(url) {\n        const Httpreq = new XMLHttpRequest()\n        //might need set this to true\n        Httpreq.open('GET', url, false);\n        Httpreq.send(null);\n        var data = JSON.parse(Httpreq.responseText);\n        var messages = data.messages;\n        console.log(data)\n\n        this.setState({ tweets: messages })\n    }\n\n    componentDidMount() {\n        console.log(this.state.tags[0].name)\n\n        let url = \"https://api.stocktwits.com/api/2/streams/symbol/\" + this.state.stock + \".json?limit=30\";\n        this.fetchStockTweets(url);\n    }\n\n}\nexport default Home;"]},"metadata":{},"sourceType":"module"}